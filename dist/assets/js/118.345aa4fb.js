(window.webpackJsonp=window.webpackJsonp||[]).push([[118],{590:function(s,e,v){"use strict";v.r(e);var _=v(24),t=Object(_.a)({},(function(){var s=this,e=s._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"配置的原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置的原理"}},[s._v("#")]),s._v(" 配置的原理")]),s._v(" "),e("h4",{attrs:{id:"_1-引入uview主js库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-引入uview主js库"}},[s._v("#")]),s._v(" 1. 引入uView主JS库")]),s._v(" "),e("p",[s._v("为何要在"),e("code",[s._v("main.js")]),s._v("引入uView的JS库？")]),s._v(" "),e("p",[s._v("因为uView内部集成了很多的便捷JS工具，比如获取随机数的"),e("code",[s._v("radnom")]),s._v("方法，调用为"),e("code",[s._v("this.$u.radom(min, max)")]),s._v("，可见这些方法都挂载在"),e("code",[s._v("$u")]),s._v("下，\n我们能通过"),e("code",[s._v("this")]),s._v("调用"),e("code",[s._v("$u")]),s._v("，又是因为"),e("code",[s._v("$u")]),s._v("挂载在Vue的原型链上，在这里uView的做法为通过"),e("code",[s._v("Vue.use")]),s._v("，以插件的形式在内部进行"),e("code",[s._v("Vue.property")]),s._v("的挂载。")]),s._v(" "),e("p",[s._v("而"),e("code",[s._v("main.js")]),s._v("就是整个项目JS的入口，且Vue也是在这里引入的，所以我们自然而然就会想到把uView的JS库在"),e("code",[s._v("mian.js")]),s._v("中引入了，如下：")]),s._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// main.js")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" uView "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"uview-ui"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nVue"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("uView"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),e("p",[s._v("注：或许您想知道"),e("code",[s._v("Vue.use")]),s._v("的作用是什么，见"),e("RouterLink",{attrs:{to:"/components/vueUse.html"}},[s._v("简要介绍Vue.use的原理")])],1),s._v(" "),e("h4",{attrs:{id:"_2-引入uview的全局scss主题文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-引入uview的全局scss主题文件"}},[s._v("#")]),s._v(" 2. 引入uView的全局SCSS主题文件")]),s._v(" "),e("p",[s._v("uni-app不支持将SCSS变量相关的样式通过"),e("code",[s._v("App.vue")]),s._v("引入，为了统一的主题，以及日后的扩展，\n目前一些跟颜色相关的scss变量定义在全局变量中，这些变量有独特的命名("),e("code",[s._v("u-")]),s._v("开头)，不会与您的类名冲突。")]),s._v(" "),e("p",[s._v("这些变量需要写入到项目根目录的"),e("code",[s._v("uni.scss")]),s._v("中才有效(这是uni-app的机制问题)，它有一个特点是，编译成微信小程序后，不但注入到小程序工程\n根目录的"),e("code",[s._v("app.wxss")]),s._v("(全局样式文件)，而且还会同步注入到每一个页面单独的"),e("code",[s._v("*.wxss")]),s._v("中，所以如果您在"),e("code",[s._v("uni.scss")]),s._v("中的样式很多的话，有可能导致\n微信小程序编译单个包超出限制的"),e("code",[s._v("2M")]),s._v("大小，整包超出最大的"),e("code",[s._v("12M")]),s._v("大小，从而导致无法真机调试和发布微信小程序。")]),s._v(" "),e("p",[s._v("所以，我们建议，只将一些跟"),e("code",[s._v("scss")]),s._v("主题，变量相关的样式写入到"),e("code",[s._v("uni.scss")]),s._v("，而其他一般的全局样式文件，通过"),e("code",[s._v("App.vue")]),s._v("引入即可，在微信小程序编译的时候，\n它只会编译到小程序根目录的"),e("code",[s._v("app.wxss")]),s._v("中，而不会注入到其他的单个页面的样式中。")]),s._v(" "),e("h4",{attrs:{id:"_3-引入基础样式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-引入基础样式"}},[s._v("#")]),s._v(" 3. 引入基础样式")]),s._v(" "),e("p",[s._v("由于目前(2020-04-29)uni-app的V3模式不支持在"),e("code",[s._v("main.js")]),s._v("中引入样式文件，故需要在"),e("code",[s._v("App.vue")]),s._v("中引入uView的基础全局样式。"),e("br"),s._v("\n同时上面第2点也有说明，"),e("code",[s._v("App.vue")]),s._v("的样式为全局样式，微信小程序编译后只会注入到小程序根目录的"),e("code",[s._v("app.wxss")]),s._v("中。")]),s._v(" "),e("h4",{attrs:{id:"_4-配置easycom组件模式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-配置easycom组件模式"}},[s._v("#")]),s._v(" 4. 配置easycom组件模式")]),s._v(" "),e("p",[s._v("easycom功能可以让用户无需安装、引用、注册，三个步骤后才能使用组件，详见"),e("a",{attrs:{href:"https://uniapp.dcloud.io/collocation/pages?id=easycom",target:"_blank",rel:"noopener noreferrer"}},[s._v("easycom文档"),e("OutboundLink")],1)]),s._v(" "),e("p",[s._v("easycom的另一个最大的特点是，它是"),e("strong",[s._v("按需引入")]),s._v("的，所以您引入了整个uView组件，即使只用到了"),e("code",[s._v("button")]),s._v("组件，最终打包的时候只会把"),e("code",[s._v("button")]),s._v("打包进去，其他的组件都会被剔除。")]),s._v(" "),e("p",[s._v("Hbuilder X自2.5.1版开始正式支持"),e("code",[s._v("easycom")]),s._v("特性，"),e("strong",[s._v("HX2.5.5")]),s._v("版支持自动引入"),e("code",[s._v("components/组件名称/组件名称.vue")]),s._v("，考虑到用户的一些自定义组件\n都会放在"),e("code",[s._v("components")]),s._v("目录中，为了不和用户的自定义组件混淆，同时也是为了能让用户一键升级uView，所以我们把uView相关的所有内容都放在了根目录的\n"),e("code",[s._v("uview-ui")]),s._v("文件夹中。")]),s._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[s._v("温馨提示")]),s._v(" "),e("p",[s._v("uni-app为了调试性能的原因，修改"),e("code",[s._v("easycom")]),s._v("规则不会实时生效，配置完后，您需要重启HX或者重新编译项目才能正常使用uView的功能。")])])])}),[],!1,null,null,null);e.default=t.exports}}]);